<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');
//模拟的是外数据库的接口
class Api extends CI_Controller {

	public function index()
	{
		$this->load->view('welcome_message');
		//it is for fun	
	}

	public function code_get_name()
	{		//股票代号获取股票信息
		$info = $this->input->get();
		$stock_id = $info['stock_id'];
		$this->load->model('api_model', '', TRUE);
		$res = $this->api_model->search_id($stock_id);

		return json_encode($res);
	}


	public function code_get_name_c()
	{		//股票名称获取股票信息
		$info = $this->input->get();
		$stock_name = $info['stock_name'];
		$this->load->model('api_model', '', TRUE);
		$res = $this->api_model->search_name($stock_name);

		return json_encode($res);
	}
	
	public function line_day()
	{		//模拟返回日线，实际上是在外接口
		$jQuery = [[1182124800000,17.87],
		[1182211200000,17.67],
		[1182211300000,17.36],
		[1182211400000,17.70],
		[1182211500000,17.57],
		[1182211600000,17.48],
		[1182211700000,17.09],
		[1182211800000,17.41],
		[1182211900000,17.22],
		[1182212000000,17.43]];
		echo json_encode($jQuery);
	}
	
	public function line_month()
	{		//模拟返回月线，实际上是在外接口
		$jQuery = [[1182124800000,13.87],
		[1182211200000,17.67],
		[1182211300000,13.36],
		[1182211400000,17.70],
		[1182211500000,13.57],
		[1182211600000,17.48],
		[1182211700000,13.09],
		[1182211800000,17.41],
		[1182211900000,13.22],
		[1182212000000,17.43]];
		echo json_encode($jQuery);
	}

	public function line_year()
	{		//模拟返回年线，实际上是在外接口
		$jQuery = [[1182124800000,13.87],
		[1182211200000,17.67],
		[1182211300000,13.36],
		[1182211400000,9.70],
		[1182211500000,13.57],
		[1182211600000,17.48],
		[1182211700000,13.09],
		[1182211800000,17.41],
		[1182211900000,13.22],
		[1182212000000,9.43]];
		echo json_encode($jQuery);
	}


	public function k_day() {
		//模拟返回日K线，实际上是在外接口
		$jQuery = [
		/* May 2006 */
		[1147651200000,67.37,68.38,67.12,67.79],
		[1147737600000,68.10,68.25,64.75,64.98],
		[1147824000000,64.70,65.70,64.07,65.26],
		[1147910400000,65.68,66.26,63.12,63.18],
		[1147996800000,63.26,64.88,62.82,64.51],
		[1148256000000,63.87,63.99,62.77,63.38],
		[1148342400000,64.86,65.19,63.00,63.15],
		[1148428800000,62.99,63.65,61.56,63.34],
		[1148515200000,64.26,64.45,63.29,64.33],
		[1148601600000,64.31,64.56,63.14,63.55],
		[1148947200000,63.29,63.30,61.22,61.22],
		[1149033600000,61.76,61.79,58.69,59.77]];
		echo json_encode($jQuery);
	}

	public function k_month() {
		//模拟返回月K线，实际上是在外接口
		$jQuery = [
		/* May 2006 */
		[1147651200000,67.37,68.38,67.12,67.79],
		[1147737600000,68.10,68.25,64.75,64.98],
		[1147824000000,64.70,65.70,64.07,65.26],
		[1147910400000,65.68,66.26,63.12,63.18],
		[1147996800000,63.26,64.88,62.82,64.51],
		[1148256000000,63.87,63.99,62.77,63.38],
		[1148342400000,64.86,65.19,63.00,63.15],
		[1148428800000,62.99,63.65,61.56,63.34],
		[1148515200000,64.26,64.45,63.29,64.33],
		[1148601600000,64.31,64.56,63.14,63.55],
		[1148947200000,20,63.30,61.22,61.22],
		[1149033600000,61.76,61.79,58.69,59.77]];
		echo json_encode($jQuery);
	}

	public function k_year() {
		//模拟返回年K线，实际上是在外接口
		$jQuery = [
		/* May 2006 */
		[1147651200000,67.37,68.38,67.12,67.79],
		[1147737600000,68.10,68.25,64.75,64.98],
		[1147824000000,64.70,65.70,64.07,65.26],
		[1147910400000,65.68,66.26,63.12,63.18],
		[1147996800000,20,64.88,62.82,64.51],
		[1148256000000,63.87,63.99,62.77,63.38],
		[1148342400000,64.86,65.19,63.00,63.15],
		[1148428800000,62.99,63.65,61.56,63.34],
		[1148515200000,64.26,64.45,63.29,64.33],
		[1148601600000,64.31,64.56,63.14,63.55],
		[1148947200000,63.29,63.30,61.22,61.22],
		[1149033600000,61.76,61.79,58.69,59.77]];
		echo json_encode($jQuery);
	}
}
